Here's a **detailed breakdown of Source Code Management (SCM) in Jenkins**, especially focusing on how Jenkins connects with Git-based repositories (like GitHub, Bitbucket, GitLab), manages credentials, and uses webhooks for automatic triggers.

---

## ‚úÖ 5. **Source Code Management (SCM) in Jenkins**

Jenkins integrates with **Source Code Management systems** to pull code, detect changes, and trigger builds. The most common SCM tools Jenkins connects to are:

* **Git (most popular)**
* Subversion (SVN)
* Mercurial
* Perforce (via plugin)

We‚Äôll focus on **Git-based systems**: GitHub, GitLab, and Bitbucket.

---

### ‚úÖ Connecting Git Repositories in Jenkins

#### 1Ô∏è‚É£ **GitHub (via HTTPS or SSH)**

**Steps (for both Freestyle and Pipeline jobs):**

* Install **Git Plugin** and **GitHub Plugin** (if not already installed).
* In Jenkins job:

  * Go to `Source Code Management` ‚Üí Select **Git**.
  * Enter GitHub repo URL:

    * **HTTPS**: `https://github.com/your-org/your-repo.git`
    * **SSH**: `git@github.com:your-org/your-repo.git`
  * Provide **credentials** (username/password or SSH key) securely.

> ‚úÖ For SSH:

* Use `ssh-keygen` to generate key pair.
* Add public key to GitHub ‚Üí **Settings > SSH and GPG keys**
* Add **private key** to Jenkins using:

  * Jenkins Dashboard ‚Üí **Manage Jenkins** ‚Üí **Credentials** ‚Üí Global ‚Üí Add credentials ‚Üí `SSH Username with private key`

---

#### 2Ô∏è‚É£ **Bitbucket Integration**

* Jenkins supports Bitbucket via **Bitbucket plugin** and **Bitbucket Branch Source Plugin**.
* In Git URL:

  * **HTTPS**: `https://bitbucket.org/your-org/your-repo.git`
  * **SSH**: `git@bitbucket.org:your-org/your-repo.git`
* Configure **webhooks** in Bitbucket to notify Jenkins on push.

> üîê Use app passwords or SSH keys for authentication.

---

#### 3Ô∏è‚É£ **GitLab Integration**

* Install **GitLab Plugin** for webhook support.
* Configure:

  * Git URL: `https://gitlab.com/your-org/your-repo.git`
  * Use **GitLab Personal Access Token (PAT)** or **SSH key**
* Add webhook in GitLab under:

  * **Settings > Webhooks** ‚Üí URL: `http://<jenkins_url>/project/<job_name>`

---

### ‚úÖ Webhook Integration for Automatic Job Trigger

Webhooks allow Jenkins to **automatically trigger builds** when a change is pushed to the repository.

#### üîÅ GitHub Webhook Steps

1. In Jenkins:

   * Create a job or pipeline.
   * Enable:
     ‚úÖ `GitHub hook trigger for GITScm polling`

2. In GitHub:

   * Go to your repo ‚Üí **Settings > Webhooks**
   * Click **Add Webhook**

     * **Payload URL**: `http://<jenkins-server>/github-webhook/`
     * **Content type**: `application/json`
     * Select: ‚ÄúJust the push event‚Äù
   * Click **Add webhook**

3. In Jenkins:

   * Install **GitHub Integration Plugin** (if not already).
   * Set webhook to trigger your pipeline.

> ‚úÖ Webhooks are **more efficient** than SCM polling (`Poll SCM`) which checks periodically.

---

### ‚úÖ Using Credentials Securely in Jenkins

Managing secrets and credentials is critical to secure SCM access.

#### üîê **Types of Credentials Jenkins Supports**

| Type                       | Use Case                        |
| -------------------------- | ------------------------------- |
| Username + Password        | HTTPS Git authentication        |
| SSH Username + Private Key | Git SSH authentication          |
| Secret Text                | GitHub PAT or GitLab Token      |
| Certificate                | SSL Auth                        |
| Secret File                | Encrypted files like kubeconfig |

#### üîë **Steps to Add Credentials**

1. Jenkins Dashboard ‚Üí **Manage Jenkins** ‚Üí **Credentials**
2. Select a domain (e.g., Global)
3. Click **Add Credentials**
4. Choose appropriate **Kind**:

   * For SSH ‚Üí "SSH Username with private key"
   * For PAT ‚Üí "Secret Text"
5. Provide ID, description (used in pipeline/job config), and actual value.

---

### ‚úÖ Referencing Credentials in Jenkins Pipeline

**Declarative Pipeline Example using GitHub HTTPS + PAT:**

```groovy
pipeline {
  agent any
  environment {
    GIT_TOKEN = credentials('github-pat-id')  // Secret Text type
  }
  stages {
    stage('Checkout') {
      steps {
        git url: "https://github.com/your-org/your-repo.git",
            credentialsId: 'github-cred-id' // HTTPS or SSH credential
      }
    }
  }
}
```

**Declarative Pipeline with SSH checkout:**

```groovy
pipeline {
  agent any
  stages {
    stage('Clone') {
      steps {
        git branch: 'main',
            credentialsId: 'my-ssh-key',
            url: 'git@github.com:your-org/your-repo.git'
      }
    }
  }
}
```

---

## ‚úÖ Interview Questions (SCM + Jenkins)

### üîπ **Basic**

1. **How does Jenkins connect to GitHub?**
2. **What are the methods Jenkins supports for SCM access?**
3. **What plugins are needed for Git/GitHub integration?**
4. **How do you set up credentials securely in Jenkins?**

### üîπ **Intermediate**

5. **What‚Äôs the difference between SCM polling and webhooks?**
6. **How do you configure Jenkins to pull code from a private Git repo using SSH?**
7. **How do you store GitHub tokens or SSH keys securely in Jenkins?**
8. **What is the use of `credentialsId` in a Jenkins pipeline?**

### üîπ **Advanced / Scenario-Based**

1. **Scenario:**
   You are asked to create a Jenkins pipeline that triggers on every push to `main` in a GitHub private repo. It should use SSH for checkout and hide all credentials.
   **Explain the steps.**

2. **Scenario:**
   You notice builds are not triggering automatically despite webhook setup.
   **How will you troubleshoot GitHub webhook integration?**

   ‚úÖ Check:

   * Webhook delivery logs in GitHub
   * Jenkins log: `/var/log/jenkins/jenkins.log`
   * Jenkins job has "GitHub hook trigger" enabled
   * Firewall/network issues

3. **Scenario:**
   Your Jenkins job uses HTTPS Git URL but fails due to password authentication deprecation.
   **What is the solution?**

   ‚úÖ Use:

   * Personal Access Token (PAT)
   * Store it securely in Jenkins Credentials
   * Update the credentialId used in job or pipeline

---

Let me know if you want:

* Jenkinsfile examples for GitHub/GitLab triggers
* Jenkins + GitOps integrations
* Jenkins Shared Libraries for SCM-heavy pipelines
* Role-based access security model for SCM credentials

I can also give **mock interview Q\&A** on Jenkins + Git integration!
